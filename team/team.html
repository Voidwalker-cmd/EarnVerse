<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team - Referral</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900">

    <div class="app-container p-4 pt-0">

        <!-- HEADER SECTION with Gradient Background -->
        <header class="p-4 pt-8 pb-4 -mx-4 rounded-b-3xl relative" style="background: var(--header-gradient);">
            <div class="flex items-center justify-between">
                <!-- Back Button -->
                <button onclick="showModal('Navigating back to the main dashboard...')" class="text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                
                <!-- Title & Subtitle -->
                <div class="flex-grow ml-3">
                    <h1 class="text-xl font-bold text-white tracking-wide">Team</h1>
                    <p class="text-sm text-white/70">Invite friends, Earn together!</p>
                </div>
                
                <!-- Rank Badge -->
                <div class="flex items-center bg-orange-500/80 text-white text-sm font-semibold px-3 py-1 rounded-full shadow-md">
                    <!-- Scholar Icon -->
                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 19H7v-2h10v2zm0-6H7v-2h10v2zm-2-4H9V5h6v4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></svg>
                    <span>Scholar</span>
                </div>
            </div>
        </header>

        <!-- MAIN CONTENT AREA -->
        <main class="relative z-10 pt-4 -mt-2">
            
            <!-- TOTAL EARNINGS CARD -->
            <div class="bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-700">
                <div class="text-center">
                    <p class="text-sm text-gray-400 font-medium">Total Referral Earnings</p>
                    <div class="text-4xl font-extrabold tracking-tight mt-1 text-white">0.95 SOL</div>
                    <div class="text-lg text-gray-400 font-medium">$186.0</div>
                </div>
            </div>

            <!-- INFO CARDS GRID -->
            <div class="grid grid-cols-3 gap-3 mt-4">
                
                <!-- Upline Card -->
                <div class="bg-gray-800 p-4 rounded-xl text-center flex flex-col items-center justify-center min-h-[100px] shadow">
                    <!-- Icon Placeholder -->
                    <svg class="w-6 h-6 text-purple-400 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    <p class="text-lg font-bold">Upline</p>
                    <p class="text-xs text-gray-400">Nugget</p>
                </div>
                
                <!-- Downlines Card -->
                <div class="bg-gray-800 p-4 rounded-xl text-center flex flex-col items-center justify-center min-h-[100px] shadow">
                    <!-- Icon Placeholder -->
                    <svg class="w-6 h-6 text-purple-400 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20h-2m2 0h-2M4 12v3m12-3v3m-3-10V4a2 2 0 00-2-2H8a2 2 0 00-2 2v5m4 2a2 2 0 012-2h4a2 2 0 012 2v2a2 2 0 01-2 2h-4a2 2 0 01-2-2v-2z"></path></svg>
                    <p class="text-lg font-bold">Downlines</p>
                    <p class="text-xs text-gray-400">12</p>
                </div>
                
                <!-- Invite Bonus Card -->
                <div class="bg-gray-800 p-4 rounded-xl text-center flex flex-col items-center justify-center min-h-[100px] shadow">
                    <!-- Icon Placeholder -->
                    <svg class="w-6 h-6 text-purple-400 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12c0 4.97-4.03 9-9 9S3 16.97 3 12 7.03 3 12 3s9 4.03 9 9z"></path></svg>
                    <p class="text-lg font-bold">Invite Bonus</p>
                    <p class="text-xs text-gray-400">0.25%</p>
                </div>
            </div>

            <!-- RANK PROGRESS BAR -->
            <div class="bg-gray-800 p-5 rounded-xl mt-4 shadow-lg flex flex-col sm:flex-row sm:items-center justify-between">
                <div class="flex items-center space-x-3 mb-3 sm:mb-0">
                    <!-- Trophy Icon -->
                    <svg class="w-6 h-6 text-purple-400 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z"></path></svg>
                    <div>
                        <div class="text-lg font-bold">Scholar</div>
                        <div class="text-sm text-gray-400">Next rank: Seeker</div>
                    </div>
                </div>
                
                <div class="w-full sm:w-1/2">
                    <div class="flex justify-end items-center text-sm font-medium mb-1">
                        <span class="text-purple-300">12/30</span>
                    </div>
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-700 rounded-full h-2.5">
                        <div class="h-2.5 rounded-full bg-gradient-to-r from-purple-500 to-green-400" style="width: 40%;"></div>

                    </div>
                </div>
            </div>

            <!-- INVITE LINK SECTION -->
            <div class="mt-6">
                <h2 class="text-base text-gray-400 font-medium mb-2 text-center">Your Invite Link</h2>
                <div class="flex rounded-xl overflow-hidden shadow-lg border-2 border-purple-500/50">
                    <!-- Ref Code Display -->
                    <div class="flex-grow p-4 bg-gray-800 text-sm font-mono text-gray-300 flex items-center" id="refCodeDisplay">
                        Ref code
                    </div>
                    <!-- Copy Button -->
                    <button id="copyLinkBtn" class="px-6 font-bold text-white transition duration-200 flex items-center space-x-2 flex-shrink-0" 
                            style="background: var(--copy-button-gradient);" onclick="copyRefCode('Ref code')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1m-4-4l-4 4m0 0l4 4m-4-4h12"></path></svg>
                        <span>Copy</span>
                    </button>
                </div>
            </div>

            <!-- RANK BENEFITS SECTION -->
            <div class="mt-8">
                <h2 class="text-base text-gray-400 font-medium mb-4 text-center flex items-center justify-center space-x-2">
                    <!-- Crown Icon -->
                    <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.73 9.47l.19-1.25H5.08l.19 1.25L5 9.47v.06l-.27.56 1.77 1.83.69-.17.18 1.23-1.67 1.73.57 1.48 2.05-.18.77 1.23 1.57-.9 1.57.9.77-1.23 2.05.18.57-1.48-1.67-1.73.18-1.23.69.17 1.77-1.83L19 9.53v-.06zM12 18l-3-3h6l-3 3zM12 4.47l2.84 5.86 6.13.53-4.66 4.04 1.4 6.07L12 17.5l-5.71 3.47 1.4-6.07-4.66-4.04 6.13-.53L12 4.47z"></path></svg>
                    <span>Rank Benefits</span>
                </h2>

                <!-- Rank Tabs -->
                <div class="flex justify-center flex-wrap gap-2 mb-4 scroll-container overflow-x-auto">
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Freshman')">Freshman</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400 active-rank" style="background-color: var(--rank-active-bg); color: white;" onclick="showRank('Scholar')">Scholar</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Seeker')">Seeker</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Achiever')">Achiever</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Sage')">Sage</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Professor')">Professor</div>
                    <div class="rank-tab bg-gray-700/50 text-gray-400" onclick="showRank('Top G')">Top G</div>
                </div>

                <!-- Benefits Display Card -->
                <div class="bg-gray-800 p-6 rounded-xl shadow-2xl min-h-[150px]">
                    <div id="benefitsContent">
                        <!-- Content for 'Scholar' rank (active by default) -->
                        <div class="text-lg font-bold mb-2">Scholar Rank Benefits</div>
                        <p class="text-gray-300 leading-relaxed mb-4">
                            Earn <span class="text-purple-300 font-semibold">3.5%</span> of your Downline's Tuition everyday.
                        </p>
                        
                        <div class="text-sm font-semibold text-gray-400 mb-1">How to reach Professor rank:</div>
                        <ul class="list-disc list-inside text-sm text-gray-400 ml-4">
                            <li>Invite 30 active Downlines (currently 12/30).</li>
                            <li>Maintain a 90% weekly activity score.</li>
                        </ul>
                    </div>
                </div>
            </div>

        </main>

        <!-- FIXED BOTTOM NAVIGATION BAR -->
    <nav class="fixed bottom-0 left-0 right-0 h-16 bg-gray-800 border-t border-gray-700 shadow-2xl z-50">
        <div class="max-w-xl mx-auto h-full flex items-center justify-around">

            <!-- Home (Active) -->
            <div class="nav-icon"><a href="../index.html">
                <!-- Home Icon (inline SVG) -->
                <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                <span class="text-xs mt-1">Home</span>
            </a></div>

            <!-- Trivia -->
            <div class="nav-icon"><a href="../trivia/trivia.html">
                <!-- Group/Community Icon (inline SVG) -->
                <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <path d="M12 18V5"/>
                    <path d="M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4"/>
                    <path d="M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5"/>
                    <path d="M17.997 5.125a4 4 0 0 1 2.526 5.77"/>
                    <path d="M18 18a4 4 0 0 0 2-7.464"/>
                    <path d="M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517"/>
                    <path d="M6 18a4 4 0 0 1-2-7.464"/>
                    <path d="M6.003 5.125a4 4 0 0 0-2.526 5.77"/>
                </svg>
                <span class="text-xs mt-1">Trivia</span>
            </a></div>

            <!-- Team -->
            <div class="nav-icon active">
                <!-- Users/Team Icon (inline SVG) -->
                <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"  viewBox="0 0 24 24">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <path d="M16 3.128a4 4 0 0 1 0 7.744"/>
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                    <circle cx="9" cy="7" r="4"/>
                </svg>
                <span class="text-xs mt-1">Team</span>
            </div>

            <!-- Creators Pool -->
            <div class="nav-icon"><a href="../creators pool/creator.html">
                <!-- Group/Community Icon (inline SVG) -->
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mx-auto text-gray-400 group-hover:text-yellow-500 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978"/>
                    <path d="M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978"/>
                    <path d="M18 9h1.5a1 1 0 0 0 0-5H18"/>
                    <path d="M4 22h16"/>
                    <path d="M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"/>
                    <path d="M6 9H4.5a1 1 0 0 1 0-5H6"/>
                </svg>
                <span class="text-xs mt-1">Creators Pool</span>
            </a></div>

            <!-- Support -->
            <div class="nav-icon"><a href="../support/support.html">
                <!-- Question Mark Icon (inline SVG) -->
                <div class="flex flex-col items-center gap-1 group">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-400 group-hover:text-green-500 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <path d="M12 17h.01"/>
                </svg>
                <span class="text-xs mt-1">Support</span>
            </div>
            </a></div>
    </nav>

    </div>

    <!-- Custom Modal for Alerts (replacing alert()) -->
    <div id="customModal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center p-4 z-[100]">
        <div class="bg-gray-800 p-6 rounded-xl shadow-2xl max-w-sm w-full">
            <h3 class="text-xl font-bold mb-3 text-white">Action Confirmation</h3>
            <p id="modalMessage" class="text-gray-300 mb-4"></p>
            <button class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 rounded-lg transition duration-200" onclick="closeModal()">OK</button>
        </div>
    </div>

    <script>
        // --- Modal Functions ---
        const customModal = document.getElementById('customModal');
        const modalMessage = document.getElementById('modalMessage');

        function showModal(message) {
            modalMessage.textContent = message;
            customModal.classList.remove('hidden');
            customModal.classList.add('flex');
        }

        function closeModal() {
            customModal.classList.add('hidden');
            customModal.classList.remove('flex');
        }

        // --- Copy Ref Code Function ---
        function copyRefCode(code) {
            const refCode = code;
            try {
                // Use the clipboard API for modern browsers, with a fallback
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(refCode).then(() => {
                        showModal('✅ Invite link copied to clipboard!');
                    }).catch(err => {
                        console.error('Failed to copy via clipboard API:', err);
                        fallbackCopy(refCode);
                    });
                } else {
                    fallbackCopy(refCode);
                }
            } catch (err) {
                // Fallback for iFrame environments where permissions might be restricted
                fallbackCopy(refCode);
            }
        }
        
        function fallbackCopy(text) {
             const tempInput = document.createElement('input');
             tempInput.value = text;
             document.body.appendChild(tempInput);
             tempInput.select();
             document.execCommand('copy');
             document.body.removeChild(tempInput);
             showModal('✅ Invite link copied to clipboard (via fallback)!');
        }


        // --- Rank Tab Logic ---
        const rankData = {
            'Freshman': {
                title: 'Freshman Rank Benefits',
                description: 'This is the *default rank* you start with.',
                details: [
                    'Earn 4% from each of your downline\'s Tuition everyday.',
                ],
                nextRank: 'Scholar',
                howTo: 'Invite 3 active Downlines.'
            },
            'Scholar': {
                title: 'Scholar Rank Benefits',
                description: 'You are currently here. Keep up the good work!',
                details: [
                    'Earn 4.25% of your Downline\'s Tuition everyday.',
                    'Access to exclusive course content.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'Seeker',
                howTo: 'Invite 30 active Downlines (currently 12/30).'
            },
            'Seeker': {
                title: 'Seeker Rank Benefits',
                description: 'High-tier rewards unlocked!',
                details: [
                    'Earn 4.5% of your Downline\'s Tuition everyday.',
                    'All-access passes to future events.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'Achiever',
                howTo: 'Achieve 100 active Downlines.'
            },
            'Achiever': {
                title: 'Achiever Rank Benefits',
                description: 'High-tier rewards unlocked!',
                details: [
                    'Earn 4.75% of your Downline\'s Tuition everyday.',
                    'All-access passes to future events.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'Sage',
                howTo: 'Achieve 100 active Downlines.'
            },
            'Sage': {
                title: 'Sage Rank Benefits',
                description: 'High-tier rewards unlocked!',
                details: [
                    'Earn 5.0% of your Downline\'s Tuition everyday.',
                    'All-access passes to future events.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'Professor',
                howTo: 'Achieve 100 active Downlines.'
            },
            'Professor': {
                title: 'Professor Rank Benefits',
                description: 'High-tier rewards unlocked!',
                details: [
                    'Earn 5.25% of your Downline\'s Tuition everyday.',
                    'All-access passes to future events.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'Top G',
                howTo: 'Achieve 75 active Downlines'
            },
            'Top G': {
                title: 'Top G Rank Benefits',
                description: 'The ultimate rank with maximum earnings.',
                details: [
                    'Earn 5.5% of your Downline\'s Tuition everyday.',
                    'All-access passes to future events.',
                    'Dedicated account manager support.',
                    'Permanent boost to daily rewards.'
                ],
                nextRank: 'N/A',
                howTo: 'Achieve 100 active Downlines.'
            }
        };

        const benefitsContent = document.getElementById('benefitsContent');
        const rankTabs = document.querySelectorAll('.rank-tab');

        function showRank(rank) {
            // Update tabs
            rankTabs.forEach(tab => {
                tab.style.backgroundColor = 'rgba(43, 43, 43, 0.5)'; // bg-gray-700/50
                tab.style.color = '#9ca3af'; // text-gray-400
                if (tab.textContent.trim() === rank) {
                    tab.style.backgroundColor = 'var(--rank-active-bg)';
                    tab.style.color = 'white';
                }
            });

            // Update content
            const data = rankData[rank];
            let html = `
                <div class="text-lg font-bold mb-2 text-white">${data.title}</div>
                <p class="text-gray-300 leading-relaxed mb-4">
                    ${data.description}
                </p>
            `;
            
            // Add benefits details
            html += '<div class="text-sm font-semibold text-gray-300 mb-2">Key Benefits:</div><ul class="list-disc list-inside text-sm text-gray-400 ml-4 mb-4">';
            data.details.forEach(detail => {
                html += `<li>${detail}</li>`;
            });
            html += '</ul>';


            // Add next rank info
            if (data.nextRank !== 'N/A') {
                html += `
                    <div class="text-sm font-semibold text-gray-400 mb-1">How to reach ${data.nextRank} rank:</div>
                    <p class="text-sm text-gray-400 ml-4">${data.howTo}</p>
                `;
            } else {
                 html += `<p class="text-sm font-semibold text-yellow-500 mt-4">You have reached the highest available rank!</p>`;
            }


            benefitsContent.innerHTML = html;
        }

        // Initialize the view to the current rank (Scholar)
        window.onload = () => {
             // Set the invite link text (mock data)
            document.getElementById('refCodeDisplay').textContent = '15P9A4G';
            showRank('Scholar');
            // Mock auth state for navigation icons
            const teamIcon = document.querySelector('.nav-icon:nth-child(3)');
            teamIcon.classList.add('active');
        };
    </script>

</body>
</html>
